<div class="flex items-center mb-6">
    <span class="p-4 bg-white rounded-lg border border-gray-200">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M18 20C18 18.4087 17.3679 16.8826 16.2426 15.7574C15.1174 14.6321 13.5913 14 12 14C10.4087 14 8.88258 14.6321 7.75736 15.7574C6.63214 16.8826 6 18.4087 6 20"
                stroke="#6366F1" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            <path
                d="M12 14C14.2091 14 16 12.2091 16 10C16 7.79086 14.2091 6 12 6C9.79086 6 8 7.79086 8 10C8 12.2091 9.79086 14 12 14Z"
                stroke="#6366F1" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            <path
                d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"
                stroke="#6366F1" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
    </span>
</div>
<h1 class="text-3xl font-bold text-gray-800 mb-2">{{ 'YOUR_DETAILS.TITLE' | translate }}</h1>
<p class="text-gray-500 mb-8">{{ 'YOUR_DETAILS.SUBTITLE' | translate }}</p>

<form [formGroup]="detailsForm" (ngSubmit)="onNextStep()">
    <!-- First Name -->
    <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700 mb-1" for="first-name">{{ 'FIELDS.FIRST_NAME' | translate }}</label>
        <input
            formControlName="firstName"
            class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"
            [ngClass]="{
                'border-gray-300': !isFieldInvalid('firstName'),
                'border-red-500': isFieldInvalid('firstName')
            }"
            id="first-name" 
            [placeholder]="'PLACEHOLDERS.FIRST_NAME' | translate" 
            type="text" />
        <div *ngIf="isFieldInvalid('firstName')" class="mt-1 text-sm text-red-600">
            {{ getFieldError('firstName') }}
        </div>
    </div>

    <!-- Last Name -->
    <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700 mb-1" for="last-name">{{ 'FIELDS.LAST_NAME' | translate }}</label>
        <input
            formControlName="lastName"
            class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"
            [ngClass]="{
                'border-gray-300': !isFieldInvalid('lastName'),
                'border-red-500': isFieldInvalid('lastName')
            }"
            id="last-name" 
            [placeholder]="'PLACEHOLDERS.LAST_NAME' | translate" 
            type="text" />
        <div *ngIf="isFieldInvalid('lastName')" class="mt-1 text-sm text-red-600">
            {{ getFieldError('lastName') }}
        </div>
    </div>

    <!-- Phone Number -->
    <div class="mb-6">
        <label class="block text-sm font-medium text-gray-700 mb-1" for="phone-number">{{ 'FIELDS.PHONE_NUMBER' | translate }}</label>
        <div class="flex">
            <div class="relative">
                <select class="appearance-none border border-gray-300 rounded-s-lg  pe-10 ps-4 py-3 focus:outline-none">
                    <option>KSA</option>
                </select>
                <div class="absolute inset-y-0 end-0 flex items-center pe-3 pointer-events-none">
                    ðŸ‡¸ðŸ‡¦
                </div>
            </div>
            <input
                formControlName="phoneNumber"
                appPhoneNumber
                [maxlength]="9"
                class="w-full px-4 py-3 border ltr:rounded-e-lg rtl:rounded-s-lg ps-10 pe-4 focus:outline-none focus:ring-2 focus:ring-orange-500"
                [ngClass]="{
                    'border-gray-300': !isFieldInvalid('phoneNumber'),
                    'border-red-500': isFieldInvalid('phoneNumber')
                }"
                id="phone-number" 
                [placeholder]="'PLACEHOLDERS.PHONE_NUMBER' | translate" 
                type="tel" />
        </div>
        <div *ngIf="isFieldInvalid('phoneNumber')" class="mt-1 text-sm text-red-600">
            {{ getFieldError('phoneNumber') }}
        </div>
    </div>

    <!-- Terms and Conditions -->
    <div class="flex items-start mb-6">
        <input 
            formControlName="acceptTerms"
            class="h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded mt-1" 
            id="terms"
            type="checkbox" />
        <label class="ms-2 block text-sm text-gray-600" for="terms">
            {{ 'YOUR_DETAILS.TERMS_TEXT' | translate }}
            <a class="font-medium text-blue-400 underline" href="#">{{ 'YOUR_DETAILS.TERMS_LINK' | translate }}</a>
            {{ 'YOUR_DETAILS.AND' | translate }}
            <a class="font-medium text-blue-400 underline" href="#">{{ 'YOUR_DETAILS.PRIVACY_LINK' | translate }}</a>.
        </label>
    </div>
    <div *ngIf="isFieldInvalid('acceptTerms')" class="mb-4 text-sm text-red-600">
        {{ getFieldError('acceptTerms') }}
    </div>

    <!-- Submit Button -->
    <button
        class="w-full bg-orange-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50 disabled:bg-gray-400 disabled:cursor-not-allowed"
        type="submit"
        [disabled]="detailsForm.invalid">
        {{ 'BUTTONS.CONTINUE' | translate }}
    </button>
</form>